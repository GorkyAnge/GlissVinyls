@model List<Producto>
@{
    ViewData["Title"] = "Lista de Productos";
    Layout = "_LayoutAdmin";
}

<section id="resenas" class="contact">
    <div class="container">
        <div class="section-title">
            <h2>Buscar Reseñas por Producto</h2>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-6">
                <label for="productoCombo">Seleccionar Producto:</label>
                <select id="productoCombo" class="form-control">
                    @foreach (var item in Model)
                    {
                        <option value="@item.IdProducto">@item.Nombre</option>
                    }
                </select>
            </div>
        </div>

        <div class="row justify-content-center mt-3">
            <div class="col-lg-6">
                <a id="verResenasBtn" class="btn btn-outline-warning">Ver Reseñas de este vinilo</a>
            </div>
        </div>
    </div>
</section>

<script>
    document.getElementById('verResenasBtn').addEventListener('click', function () {
        // Obtener el valor seleccionado del combobox
        var selectedProductId = document.getElementById('productoCombo').value;

        // Construir la URL con el parámetro IdProducto
        var url = '/Resenas/ResenasPorProducto?IdProducto=' + selectedProductId;

        // Redirigir a la página de reseñas con el parámetro
        window.location.href = url;
    });
</script>
